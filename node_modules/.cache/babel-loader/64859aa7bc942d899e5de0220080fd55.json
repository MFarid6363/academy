{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Farid\\\\Desktop\\\\DERSLER\\\\dopolnitelnoe\\\\frontend\\\\js (react)\\\\reactproj\\\\routing--assignment-problem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\Farid\\\\Desktop\\\\DERSLER\\\\dopolnitelnoe\\\\frontend\\\\js (react)\\\\reactproj\\\\routing--assignment-problem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Farid\\\\Desktop\\\\DERSLER\\\\dopolnitelnoe\\\\frontend\\\\js (react)\\\\reactproj\\\\routing--assignment-problem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Farid\\\\Desktop\\\\DERSLER\\\\dopolnitelnoe\\\\frontend\\\\js (react)\\\\reactproj\\\\routing--assignment-problem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Farid\\\\Desktop\\\\DERSLER\\\\dopolnitelnoe\\\\frontend\\\\js (react)\\\\reactproj\\\\routing--assignment-problem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Farid\\\\Desktop\\\\DERSLER\\\\dopolnitelnoe\\\\frontend\\\\js (react)\\\\reactproj\\\\routing--assignment-problem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Farid\\\\Desktop\\\\DERSLER\\\\dopolnitelnoe\\\\frontend\\\\js (react)\\\\reactproj\\\\routing--assignment-problem\\\\src\\\\containers\\\\particularCoursePage\\\\particularCoursePage-Contact\\\\particularCoursePageContact.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport { BiCheckCircle } from \"react-icons/bi\";\nimport { MdCancel } from \"react-icons/md\";\nimport './particularCoursePageContact.css';\n\nvar particularCoursePageContact = /*#__PURE__*/function (_Component) {\n  _inherits(particularCoursePageContact, _Component);\n\n  function particularCoursePageContact() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, particularCoursePageContact);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(particularCoursePageContact)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      ContactData: {\n        kind: {\n          value: 'Compliment',\n          validation: {},\n          valid: true,\n          touched: true\n        },\n        message: {\n          value: '',\n          validation: {\n            requeried: true,\n            minLength: 5,\n            maxLength: 100\n          },\n          valid: false,\n          touched: false\n        }\n      },\n      FormValidity: false,\n      SubmitedContact: false,\n      WrongSubmition: false\n    };\n\n    _this.getMessage = function (event) {\n      if (_this.state.SubmitedContact || _this.state.WrongSubmition) _this.setState({\n        SubmitedContact: false,\n        WrongSubmition: false\n      });\n\n      var updated = _objectSpread({}, _this.state.ContactData);\n\n      var updatedFormElement = _objectSpread({}, updated[event.target.id]);\n\n      updatedFormElement.value = event.target.value;\n      updatedFormElement.valid = _this.checkValidity(updatedFormElement.value, updatedFormElement.validation);\n      updatedFormElement.touched = true;\n      updated[event.target.id].value = updatedFormElement.value;\n      updated[event.target.id].valid = updatedFormElement.valid;\n      var formIsValid = true;\n\n      for (var inputId in updated) {\n        formIsValid = updated[inputId].valid && formIsValid;\n      }\n\n      _this.setState({\n        ContactData: updated,\n        FormValidity: formIsValid\n      });\n    };\n\n    _this.selected = function (event) {\n      var updated = _objectSpread({}, _this.state.ContactData);\n\n      updated.kind.value = event.target.innerText;\n\n      _this.setState({\n        ContactData: updated\n      });\n    };\n\n    _this.sendform = function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        kind: '',\n        message: '',\n        validmessage: false,\n        kindvalid: false\n      });\n\n      if (_this.state.FormValidity) {\n        var testimonial = {\n          Login: _this.props.accountData.Login,\n          Name: _this.props.accountData.Name + ' ' + _this.props.accountData.Surname,\n          gender: _this.props.accountData.Gender,\n          message: _this.state.ContactData.message.value,\n          kind: _this.state.ContactData.kind.value\n        };\n\n        _this.setState({\n          SubmitedContact: true\n        });\n\n        axios.post('https://academy-4a97f.firebaseio.com/courses/' + _this.props.course + '/testimonials.json', testimonial).then(function (response) {\n          _this.cleanState();\n        });\n      }\n\n      if (!_this.state.FormValidity) {\n        _this.setState({\n          WrongSubmition: true\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(particularCoursePageContact, [{\n    key: \"checkValidity\",\n    value: function checkValidity(value, rules) {\n      var isValid = true;\n\n      if (rules.requeried) {\n        isValid = value.trim() !== '' && isValid;\n      }\n\n      if (rules.minLength) {\n        isValid = value.length >= rules.minLength && isValid;\n      }\n\n      if (rules.maxLength) {\n        isValid = value.length <= rules.maxLength && isValid;\n      }\n\n      return isValid;\n    }\n  }, {\n    key: \"cleanState\",\n    value: function cleanState() {\n      for (var element in this.state.ContactData) {\n        var updated = _objectSpread({}, this.state.ContactData);\n\n        if (element !== 'kind') {\n          updated[element].valid = false;\n          updated[element].value = '';\n        }\n\n        this.setState({\n          ContactData: updated,\n          FormValidity: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"particularCoursePageContact\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }\n      }, \"Your feedback counts\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }\n      }, \"Thank you very much.\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }\n      }, \"We would really like to know your opininion\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"particularCoursePageContact__Buttons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function onClick(event) {\n          return _this2.selected(event);\n        },\n        className: this.state.ContactData.kind.value === 'Suggestion' ? 'particularCoursePageContact__Button-seleceted-button' : null,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }\n      }, \"Suggestion\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.selected,\n        className: this.state.ContactData.kind.value === 'Something is not right' ? 'particularCoursePageContact__Button-seleceted-button' : null,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }\n      }, \"Something is not right\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.selected,\n        className: this.state.ContactData.kind.value === 'Compliment' ? 'particularCoursePageContact__Button-seleceted-button' : null,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }\n      }, \"Compliment\")), /*#__PURE__*/React.createElement(\"form\", {\n        className: \"particularCoursePageContact__Form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"textarea\", {\n        id: \"message\",\n        value: this.state.ContactData.message.value,\n        onChange: this.getMessage,\n        placeholder: \"Leave your message here\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        className: this.state.ContactData.message.valid ? 'Form__validmessage' : 'Form__invalidmessage',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }\n      }, \"message should be at least 20 charachters\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function onClick(event) {\n          return _this2.sendform(event);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }\n      }, \"Submit\")), this.state.SubmitedContact ? /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"SubmitedMessage\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 47\n        }\n      }, \"Message submited \", /*#__PURE__*/React.createElement(\"i\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 96\n        }\n      }, /*#__PURE__*/React.createElement(BiCheckCircle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 99\n        }\n      }))) : null, this.state.WrongSubmition ? /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"WrongMessage\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 46\n        }\n      }, \"Message is not submited \", /*#__PURE__*/React.createElement(\"i\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 99\n        }\n      }, /*#__PURE__*/React.createElement(MdCancel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 102\n        }\n      }))) : null);\n    }\n  }]);\n\n  return particularCoursePageContact;\n}(Component);\n\nexport default particularCoursePageContact;","map":{"version":3,"sources":["C:/Users/Farid/Desktop/DERSLER/dopolnitelnoe/frontend/js (react)/reactproj/routing--assignment-problem/src/containers/particularCoursePage/particularCoursePage-Contact/particularCoursePageContact.js"],"names":["axios","React","Component","BiCheckCircle","MdCancel","particularCoursePageContact","state","ContactData","kind","value","validation","valid","touched","message","requeried","minLength","maxLength","FormValidity","SubmitedContact","WrongSubmition","getMessage","event","setState","updated","updatedFormElement","target","id","checkValidity","formIsValid","inputId","selected","innerText","sendform","preventDefault","validmessage","kindvalid","testimonial","Login","props","accountData","Name","Surname","gender","Gender","post","course","then","response","cleanState","rules","isValid","trim","length","element"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport {BiCheckCircle}  from \"react-icons/bi\";\r\nimport { MdCancel } from \"react-icons/md\";\r\n\r\n\r\nimport './particularCoursePageContact.css'\r\n\r\nclass particularCoursePageContact extends Component {\r\n    state={\r\n        ContactData:{\r\n            kind:{\r\n                value:'Compliment',\r\n                validation:{},\r\n                valid:true,\r\n                touched:true,\r\n            },\r\n            message:{\r\n                value:'',\r\n                validation:{\r\n                    requeried:true,\r\n                    minLength:5,\r\n                    maxLength:100\r\n                    },\r\n                valid:false,\r\n                touched:false,\r\n            }\r\n        },\r\n        FormValidity:false,\r\n        SubmitedContact:false,\r\n        WrongSubmition:false\r\n    }\r\n    checkValidity(value,rules){\r\n        let isValid=true;\r\n        if(rules.requeried){\r\n            isValid=value.trim() !=='' && isValid\r\n        }\r\n        if(rules.minLength){\r\n            isValid=value.length>=rules.minLength && isValid\r\n        }\r\n        if(rules.maxLength){\r\n            isValid=value.length <= rules.maxLength && isValid\r\n        }\r\n        return isValid\r\n    }\r\n\r\n    getMessage=(event)=>{\r\n        if(this.state.SubmitedContact || this.state.WrongSubmition)\r\n        this.setState({SubmitedContact:false,WrongSubmition:false})\r\n        const updated={\r\n            ...this.state.ContactData\r\n        }\r\n        let updatedFormElement={\r\n            ...updated[event.target.id]\r\n        }\r\n        \r\n        updatedFormElement.value=event.target.value\r\n        updatedFormElement.valid=this.checkValidity(updatedFormElement.value,updatedFormElement.validation)\r\n        updatedFormElement.touched=true\r\n        updated[event.target.id].value=updatedFormElement.value\r\n        updated[event.target.id].valid=updatedFormElement.valid\r\n        let formIsValid=true\r\n        for(let inputId in updated){\r\n            formIsValid = updated[inputId].valid && formIsValid\r\n        }\r\n        this.setState({ContactData:updated,FormValidity:formIsValid}) \r\n    }\r\n    selected=(event)=>{\r\n        const updated={\r\n            ...this.state.ContactData\r\n        }\r\n        \r\n        updated.kind.value=event.target.innerText\r\n        this.setState({ContactData:updated})\r\n    }\r\n    sendform=(event)=>{\r\n        event.preventDefault()\r\n        this.setState({ kind:'',message:'',validmessage:false,kindvalid:false,})\r\n        if(this.state.FormValidity ){\r\n            const testimonial={\r\n                Login:this.props.accountData.Login,\r\n                Name:this.props.accountData.Name + ' ' + this.props.accountData.Surname,\r\n                gender:this.props.accountData.Gender,\r\n                message:this.state.ContactData.message.value,\r\n                kind:this.state.ContactData.kind.value\r\n            }\r\n            this.setState({SubmitedContact:true})\r\n            axios.post('https://academy-4a97f.firebaseio.com/courses/'+this.props.course+'/testimonials.json',testimonial).then(response=>{\r\n                this.cleanState()\r\n            })\r\n\r\n        }\r\n        if(!this.state.FormValidity){\r\n            this.setState({WrongSubmition:true})\r\n        }\r\n\r\n        \r\n    }\r\n    cleanState(){\r\n        for (let element in this.state.ContactData){\r\n            const updated = {\r\n                ...this.state.ContactData\r\n            }   \r\n            if(element !== 'kind' ){\r\n                updated[element].valid = false\r\n                updated[element].value = ''\r\n            }\r\n            this.setState({ContactData:updated,FormValidity:false})\r\n        }\r\n        \r\n    }\r\n    render() {\r\n        return (\r\n            <div className='particularCoursePageContact' >\r\n                <h2>Your feedback counts</h2>\r\n                <p>Thank you very much.</p>\r\n                <p>We would really like to know your opininion</p>\r\n                <div className='particularCoursePageContact__Buttons'>\r\n                    <button onClick={(event)=>this.selected(event)} className={this.state.ContactData.kind.value==='Suggestion' ? 'particularCoursePageContact__Button-seleceted-button':null}>Suggestion</button>\r\n                    <button onClick={this.selected} className={this.state.ContactData.kind.value==='Something is not right' ? 'particularCoursePageContact__Button-seleceted-button':null}>Something is not right</button>\r\n                    <button onClick={this.selected}className={this.state.ContactData.kind.value==='Compliment' ? 'particularCoursePageContact__Button-seleceted-button':null}>Compliment</button>\r\n                </div>\r\n                <form className='particularCoursePageContact__Form'>\r\n                    <textarea id='message' value={this.state.ContactData.message.value} onChange={this.getMessage} placeholder='Leave your message here'/>\r\n                    <label className={this.state.ContactData.message.valid  ? 'Form__validmessage' :'Form__invalidmessage'}>message should be at least 20 charachters</label>\r\n                    <button onClick={(event)=>this.sendform(event)}>Submit</button>\r\n                </form>\r\n                {this.state.SubmitedContact ? <h2 className='SubmitedMessage'>Message submited <i><BiCheckCircle/></i></h2>: null}\r\n                {this.state.WrongSubmition ? <h2 className='WrongMessage'>Message is not submited <i><MdCancel/></i></h2>: null}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default particularCoursePageContact;"]},"metadata":{},"sourceType":"module"}